# Java虚拟机篇四高效并发

**禁止转载！！**

> 本篇是Java虚拟机的学习笔记的第四篇，高效并发
>
> 参考资料：深入理解Java虚拟机周志明第三版以及互联网资源具体引用会在文中标注
>
> 本文大部分都是从《深入理解Java虚拟机周志明第三版》进行拷贝和引用的，目的是为了学习一遍并加深印象，同时整理重要知识点方便日后进行复习。

# 一、Java内存模型与线程

## 1.1 概述

多任务处理在现代计算机操作系统中几乎已是一项必备的功能了。在许多场景下，让计算机同时去做几件事情，不仅是因为计算机的运算能力强大了，还有一个很重要的原因是计算机的运算速度与它的存储和通信子系统的速度差距太大，大量的时间都花费在磁盘I/O、网络通信或者数据库访问上。如果不希望处理器在大部分时间里都处于等待其他资源的空闲状态，就必须使用一些手段去把处理器的运算能力“压榨”出来，否则就会造成很大的性能浪费，而让计算机同时处理几项任务则是最容易想到，也被证明是非常有效的“压榨”手段。

除了充分利用计算机处理器的能力外，一个服务端要同时对多个客户端提供服务，则是另一个更具体的并发应用场景。衡量一个服务性能的高低好坏，每秒事务处理数 (TransactionsPer Second，TPS)是重要的指标之一，它代表着一秒内服务端平均能响应的请求总数，而TPS值与程序的并发能力又有非常密切的关系。对于计算量相同的任务，程序线程并发协调得越有条不紊，效率自然就会越高:反之，线程之间频繁争用数据，互相阻塞甚至死锁，将会大大降低程序的并发能力。

## 1.2 硬件效率与一致性



## 1.3 Java内存模型

主内存与工作内存

内存间交互操作

对于volatile的特殊规则

针对long和double变量的特殊规则

原子性、可见性和有序性

先行发生原则

## 1.4 Java与线程

线程的实现

Java线程调度

状态转换

## 1.5 Java与协程

内核线程的局限

协程的复苏

Java的解决方案

# 二、线程安全与锁优化

## 2.1 概述

## 2.2 线程安全

## 2.3 锁优化
